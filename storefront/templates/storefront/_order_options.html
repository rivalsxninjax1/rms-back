<div class="card" style="padding:12px;margin-top:16px">
  <h4>Order Options</h4>
  <div class="row" style="gap:10px;margin:10px 0">
    {% with sel=sel_override|default:cart.delivery_option %}
    <button class="btn {% if sel == 'DINE_IN' %}primary{% endif %}" onclick="loadTableModal()">Dine-in</button>
    <form style="display:inline" action="{% url 'storefront:cart_option' %}" method="post" class="js-ajax">
      {% csrf_token %}
      <input type="hidden" name="order_type" value="TAKEAWAY"/>
      <button class="btn {% if sel == 'PICKUP' %}primary{% endif %}">Takeaway</button>
    </form>
    <form style="display:inline" action="{% url 'storefront:cart_option' %}" method="post" class="js-ajax">
      {% csrf_token %}
      <input type="hidden" name="order_type" value="UBEREATS"/>
      <button class="btn {% if sel == 'DELIVERY' and cart.metadata.provider == 'UBEREATS' %}primary{% endif %}">UberEats</button>
    </form>
    <form style="display:inline" action="{% url 'storefront:cart_option' %}" method="post" class="js-ajax">
      {% csrf_token %}
      <input type="hidden" name="order_type" value="DOORDASH"/>
      <button class="btn {% if sel == 'DELIVERY' and cart.metadata.provider == 'DOORDASH' %}primary{% endif %}">DoorDash</button>
    </form>
    {% endwith %}
  </div>

  {% if cart.delivery_option == 'DINE_IN' and sel_table_ids %}
    <div class="muted">Selected tables:
      {% for t in tables %}
        {% if t.id in sel_table_ids %}
          <span>{{ t.table_number }}</span>{% if not forloop.last %}, {% endif %}
        {% endif %}
      {% endfor %}
      <button class="btn" style="margin-left:8px" onclick="loadTableModal()">Change</button>
    </div>
  {% endif %}
</div>
