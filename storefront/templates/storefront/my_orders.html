{% extends "storefront/base.html" %}
{% block title %}My Orders{% endblock %}
{% block content %}
<main class="container">
  <h2>My Orders</h2>
  {% if need_login %}
    <p class="muted">Please log in to view your orders.</p>
    <script>window.dispatchEvent(new Event('auth:required'));</script>
  {% else %}
    {% if orders %}
    <div class="card" style="padding:12px">
      {% for o in orders %}
        <div style="border-bottom:1px solid #24283a;padding:10px 0">
          <div class="row" style="justify-content:space-between">
            <div>#{{ o.order_number|default:o.id }} · {{ o.created_at|date:"Y-m-d H:i" }}</div>
            <div><strong>₹ {{ o.total_amount|default:o.total }}</strong></div>
          </div>
          <div class="muted">{{ o.get_status_display|default:o.status }}</div>
          <div class="muted">{{ o.items.count }} item(s)</div>
        </div>
      {% endfor %}
    </div>
    {% else %}
      <p class="muted">No orders yet.</p>
    {% endif %}
  {% endif %}
</main>
{% endblock %}

